{% extends 'base.html' %}


{% block body-block %}
    Admin management view"
    <table>
        <thead>
          <tr>
            <th>Annotator</th>
            <th>Email</th>
            <th>Experiment Name</th>
            <th>Number of Tasks Completed</th>
            <th>Percent of Gold Correct</th>
            <th>Interannotator Agreement</th>
            <th>ROI</th>
            <th>Lock</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
            <!-- Annotator column -->
            {% for annotator in annotators %}
                <td>
                    <p>{{annotator.name}}</p>
                </td>
            {% endfor %}

            <!-- Email column -->
            {% for annotator in annotators %}
                <td>
                    <p>{{ annotator.annotator_profile.email }}</p>
                </td>
            {% endfor %}

            <!-- Experiment name column -->
            {% for annotator in annotators %}
                <td>
                    <p>holder"</p>
                </td>
            {% endfor %}

            <!-- Number of tasks completed column -->
            {% for annotator in annotators %}
                {% with user_id = annotator.pk %}
                    {% with no_task = get_no_task(user_id)  %}
                        <td>
                            <p>{{no_task}}</p>
                        </td>
                    {% endwith %}
                {% endwith %}
            {% endfor %}
            
            <!-- Percent of Gold correct column -->
            {% for annotator in annotators %}
                <td>
                    {% with user_id = annotator.pk  %}
                        {% with per_gold = get_per_gold(user_id) %}
                            <p>{{per_gold}}</p>
                        {% endwith %}
                    {% endwith %}
                </td>
            {% endfor %}

            <!-- Interannotator agreement -->
            {% for annotator in annotators %}
                <td>
                    <p>x</p>
                </td>
            {% endfor %}

            <!-- ROI column -->
            {% for annotator in annotators %}
                <td>
                    {% with user_id = annotator.pk  %}
                        {% with roi = get_roi(user_id)  %}
                            {% if roi %}
                                <p>{{roi}}</p>
                            {% else %}
                                <p>No data</p>
                            {% endif %}
                                
                            {% endwith %}
                    {% endwith %}
                </td>
            {% endfor %}

            <!-- Lock column -->
            {% for annotator in annotators %}
                {% if annotator.is_locked %}
                    <p class="bg-gray">True</p>
                {% else %}
                    <p>False</p>
                {% endif %}
            {% endfor %}
            
            <!-- Delete column -->
            {% for annotator in annotators %}
                <td>
                    <p>
                        <a href="{% url 'perform-delete' request.user.id %}">
                            delete user
                        </a>
                    </p>
                </td>
            {% endfor %}
        </tbody>
      </table>
      
{% endblock body-block %}